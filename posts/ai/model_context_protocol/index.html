<!doctype html><html lang=en dir=auto data-theme=dark><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MCP for Data Engineers | Joaquin Casanova - Physicist & Data Engineer</title><meta name=keywords content="AI,MCP"><meta name=description content="Amazon Redshift MCP Server"><meta name=author content="Joaquin C"><link rel=canonical href=https://joaquin-casanova.github.io/posts/ai/model_context_protocol/><link crossorigin=anonymous href=/assets/css/stylesheet.c2189e7d36d72767de292f8b9d897e4a464aa5bc7eb692cda50064f5eb9eeece.css integrity="sha256-whiefTbXJ2feKS+LnYl+SkZKpbx+tpLNpQBk9eue7s4=" rel="preload stylesheet" as=style><link rel=icon href=https://joaquin-casanova.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://joaquin-casanova.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://joaquin-casanova.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://joaquin-casanova.github.io/apple-touch-icon.png><link rel=mask-icon href=https://joaquin-casanova.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://joaquin-casanova.github.io/posts/ai/model_context_protocol/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="light"&&(document.querySelector("html").dataset.theme="light")</script><meta property="og:url" content="https://joaquin-casanova.github.io/posts/ai/model_context_protocol/"><meta property="og:site_name" content="Joaquin Casanova - Physicist & Data Engineer"><meta property="og:title" content="MCP for Data Engineers"><meta property="og:description" content="Amazon Redshift MCP Server"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-24T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-24T00:00:00+00:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="MCP"><meta property="og:image" content="https://joaquin-casanova.github.io/posts/ai/images/imag.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://joaquin-casanova.github.io/posts/ai/images/imag.jpg"><meta name=twitter:title content="MCP for Data Engineers"><meta name=twitter:description content="Amazon Redshift MCP Server"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://joaquin-casanova.github.io/posts/"},{"@type":"ListItem","position":2,"name":"MCP for Data Engineers","item":"https://joaquin-casanova.github.io/posts/ai/model_context_protocol/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MCP for Data Engineers","name":"MCP for Data Engineers","description":"Amazon Redshift MCP Server","keywords":["AI","MCP"],"articleBody":"Introduction At this point, most people in the AI tooling space have at least heard about MCP. Since its announcement by Anthropic in November 2024, the protocol has gained significant relevance across different areas, especially for teams building agent-based workflows.\nOne of the biggest concerns from the beginning was security. Giving an AI assistant access to data systems sounds great in demos but in production it can go wrong fast if the controls are weak. (Spoiler: That part matters more than the hype.)\nMore recently, AWS released Open Source MCP Servers for AWS, including the Amazon Redshift MCP Server, and that changed the conversation for me. It stopped feeling like a toy and started to look genuinely useful (at least for real data work) so I decided to try the Redshift MCP Server in my own workflow.\nIn this post, I share how I implemented the Amazon Redshift MCP Server, the configuration I used, and how it has helped me in my day-to-day data work.\nWhat was I trying to solve? Before MCP, I was using a combination of tools to interact with my DWH, including DBeaver, Jupyter notebooks, custom scripts and Grafana dashboards. They all worked, but getting simple answers often meant jumping between tools and doing a lot of manual steps. It wasn’t impossible, it just felt archaic.\nFor example, I regularly ran queries to check:\nThe top N longest running queries in the last 24 hours. User grants and permissions. The health of the cluster. How it works Before getting into the setup, it helps to understand the architecture. Nothing fancy here, but it is worth being explicit.\nThe MCP server is a lightweight Python process that runs as a subprocess on your machine. Your MCP client (Claude Desktop, Kiro, or similar) starts it automatically when needed. It communicates with the client over stdin/stdout using JSON-RPC 2.0, and it communicates with your Redshift cluster via the AWS Redshift Data API over HTTPS.\n┌─────────────────┐ │ MCP Client │ ← Claude Desktop, Kiro, etc. └────────┬────────┘ │ stdin/stdout (JSON-RPC 2.0) ┌────────▼────────────┐ │ MCP Server │ ← Runs locally, started automatically │ (Python/FastMCP) │ ← Uses ~/.aws/credentials └────────┬────────────┘ │ HTTPS + IAM Auth ┌────────▼────────────┐ │ Redshift Data API │ ← AWS managed proxy └────────┬────────────┘ │ ┌────────▼────────────┐ │ Redshift Cluster │ ← Your data warehouse └─────────────────────┘ Configuration (Claude Desktop + Redshift MCP Server) I followed the AWS documentation for the initial setup, but I kept the configuration simple and focused on a read-only workflow.\nPrerequisites Before configuring the MCP server, I needed a few basics in place:\nInstall uv from Astral or the GitHub README\nInstall Python 3.10 or newer using uv python install 3.10 (or a more recent version)\nuv installed (Astral)\nPython 3.10+ available\nAWS credentials configured\nAWS region configured (us-west-2 in my case)\nA dedicated AWS user/profile with the required Redshift and Redshift Data API permissions\nI also recommend using a dedicated AWS profile for MCP instead of reusing your default profile.\nIAM user and policy (read-only) For this setup, I created a dedicated user and profile called mcp-redshift-readonly. That profile is the one used by the MCP server.\nI attached a custom read-only policy with permissions for:\nRedshift cluster/workgroup discovery Redshift Data API read/query execution (ExecuteStatement, DescribeStatement, GetStatementResult) Temporary credentials for Redshift access Explicit deny rules for dangerous operations (delete/modify/reboot, batch execution, etc.) Optional CloudWatch logging for auditing { \"Version\": \"2012-10-17\", \"Statement\": [ { \"Sid\": \"RedshiftDiscovery\", \"Effect\": \"Allow\", \"Action\": [ \"redshift:DescribeClusters\", \"redshift-serverless:ListWorkgroups\", \"redshift-serverless:GetWorkgroup\" ], \"Resource\": \"*\", \"Condition\": { \"StringEquals\": { \"aws:RequestedRegion\": [\"your-aws-region\"] } } }, { \"Sid\": \"RedshiftExecuteStatement\", \"Effect\": \"Allow\", \"Action\": [ \"redshift-data:ExecuteStatement\" ], \"Resource\": \"arn:aws:redshift:::cluster:\" }, { \"Sid\": \"RedshiftStatementResults\", \"Effect\": \"Allow\", \"Action\": [ \"redshift-data:DescribeStatement\", \"redshift-data:GetStatementResult\" ], \"Resource\": \"*\" }, { \"Sid\": \"RedshiftTemporaryCredentials\", \"Effect\": \"Allow\", \"Action\": [ \"redshift:GetClusterCredentials\", \"redshift:GetClusterCredentialsWithIAM\", \"redshift-serverless:GetCredentials\" ], \"Resource\": [ \"arn:aws:redshift:::dbname:/\" ] }, { \"Sid\": \"DenyDangerousOperations\", \"Effect\": \"Deny\", \"Action\": [ \"redshift-data:BatchExecuteStatement\", \"redshift:ModifyCluster\", \"redshift:DeleteCluster\", \"redshift:RebootCluster\", \"redshift-serverless:DeleteWorkgroup\", \"redshift-serverless:UpdateWorkgroup\" ], \"Resource\": \"*\" } ] } Claude Desktop configuration The setup itself is straightforward. First, configure the MCP server in your MCP client (Claude Desktop in my case) by adding it to claude_desktop_config.json.\n{ \"mcpServers\": { \"redshift-dwh-production\": { \"command\": \"/Users//.local/bin/uvx\", \"args\": [\"awslabs.redshift-mcp-server@latest\"], \"env\": { \"AWS_PROFILE\": \"mcp-redshift-readonly\", \"AWS_DEFAULT_REGION\": \"\", \"FASTMCP_LOG_LEVEL\": \"INFO\", \"LOG_FILE\": \"/Users//path/to/logs/redshift-mcp.log\" } } } } A few details mattered for me:\nAWS_PROFILE points to a dedicated read-only profile AWS_DEFAULT_REGION avoids region-related confusion FASTMCP_LOG_LEVEL and LOG_FILE helped during the first runs and troubleshooting Once this was in place, Claude Desktop could start the MCP server automatically when needed.\nThen added the connector on the Claude desktop As you can see the MCP Server exposes six tools: list_clusters, list_databases,list_schemas, list_tables, list_columns and execute_query. As recommendation before running any query, you can just ask what exists. The tool execute_query runs in read-only transaction by default, so even if you ask something that would modify data it won’t.\nDatabase Permissions In addition to AWS IAM permissions, you need appropriate database-level permissions:\nRead Access: SELECT permissions on tables/views you want to query Schema Access: USAGE permissions on schemas you want to explore Database Access: Connection permissions to databases you want to access What Changed in My Workflow Going back to the examples I mentioned at the start, checking slow queries, user permissions,cluster health.\nChecking slow queries:\nExample: Asking Claude to show the top 10 longest running queries in the last 24 hours\nUser permissions check:\nExample: Asking Claude what permissions does the user have on the analytics schema?\nCluster details:\nExample: Asking Claude How many nodes does the cluster have and what type are they?\nI don’t have to remember the system table names. I don’t have to switch tools. I don’t have to reconstruct a query I last wrote three weeks ago. I just ask.\n","wordCount":"943","inLanguage":"en","image":"https://joaquin-casanova.github.io/posts/ai/images/imag.jpg","datePublished":"2026-02-24T00:00:00Z","dateModified":"2026-02-24T00:00:00Z","author":{"@type":"Person","name":"Joaquin C"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://joaquin-casanova.github.io/posts/ai/model_context_protocol/"},"publisher":{"@type":"Organization","name":"Joaquin Casanova - Physicist \u0026 Data Engineer","logo":{"@type":"ImageObject","url":"https://joaquin-casanova.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://joaquin-casanova.github.io/ accesskey=h title="Joaquin Casanova (Alt + H)">Joaquin Casanova</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://joaquin-casanova.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://joaquin-casanova.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://joaquin-casanova.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://joaquin-casanova.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://joaquin-casanova.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://joaquin-casanova.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">MCP for Data Engineers</h1><div class=post-meta><span title='2026-02-24 00:00:00 +0000 UTC'>February 24, 2026</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>Joaquin C</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/joaquin-casanova/joaquin-casanova.github.io/tree/main/content/posts/ai/model_context_protocol.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><figure class=entry-cover><img loading=eager src=https://joaquin-casanova.github.io/posts/ai/images/imag.jpg alt="mathematics functions"><figcaption>mathematics functions</figcaption></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#what-was-i-trying-to-solve aria-label="What was I trying to solve?">What was I trying to solve?</a></li><li><a href=#how-it-works aria-label="How it works">How it works</a></li><li><a href=#configuration-claude-desktop--redshift-mcp-server aria-label="Configuration (Claude Desktop + Redshift MCP Server)">Configuration (Claude Desktop + Redshift MCP Server)</a></li><li><a href=#prerequisites aria-label=Prerequisites>Prerequisites</a><ul><li><a href=#iam-user-and-policy-read-only aria-label="IAM user and policy (read-only)">IAM user and policy (read-only)</a></li><li><a href=#claude-desktop-configuration aria-label="Claude Desktop configuration">Claude Desktop configuration</a></li></ul></li><li><a href=#database-permissions aria-label="Database Permissions">Database Permissions</a></li><li><a href=#what-changed-in-my-workflow aria-label="What Changed in My Workflow">What Changed in My Workflow</a></li></ul></div></details></div><div class=post-content><h3 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h3><p>At this point, most people in the AI tooling space have at least heard about <a href=https://modelcontextprotocol.io/docs/getting-started/intro>MCP</a>. Since its announcement by Anthropic in November 2024, the protocol has gained significant relevance across different areas, especially for teams building agent-based workflows.</p><p>One of the biggest concerns from the beginning was security. Giving an AI assistant access to data systems sounds great in demos but in production it can go wrong fast if the controls are weak. (Spoiler: That part matters more than the hype.)</p><p>More recently, AWS released <a href=https://awslabs.github.io/mcp/>Open Source MCP Servers for AWS</a>, including the <a href=https://awslabs.github.io/mcp/servers/redshift-mcp-server>Amazon Redshift MCP Server</a>, and that changed the conversation for me. It stopped feeling like a toy and started to look genuinely useful (at least for real data work) so I decided to try the Redshift MCP Server in my own workflow.</p><p>In this post, I share how I implemented the Amazon Redshift MCP Server, the configuration I used, and how it has helped me in my day-to-day data work.</p><h3 id=what-was-i-trying-to-solve>What was I trying to solve?<a hidden class=anchor aria-hidden=true href=#what-was-i-trying-to-solve>#</a></h3><p>Before MCP, I was using a combination of tools to interact with my DWH, including DBeaver, Jupyter notebooks, custom scripts and Grafana dashboards. They all worked, but getting simple answers often meant jumping between tools and doing a lot of manual steps. It wasn&rsquo;t impossible, it just felt archaic.</p><p>For example, I regularly ran queries to check:</p><blockquote><ul><li>The top N longest running queries in the last 24 hours.</li><li>User grants and permissions.</li><li>The health of the cluster.</li></ul></blockquote><h3 id=how-it-works>How it works<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h3><p>Before getting into the setup, it helps to understand the architecture. Nothing fancy here, but it is worth being explicit.</p><p>The MCP server is a lightweight Python process that runs as a subprocess on your machine. Your MCP client (Claude Desktop, Kiro, or similar) starts it automatically when needed. It communicates with the client over stdin/stdout using JSON-RPC 2.0, and it communicates with your Redshift cluster via the AWS Redshift Data API over HTTPS.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>┌─────────────────┐
</span></span><span class=line><span class=cl>│   MCP Client    │  ← Claude Desktop, Kiro, etc.
</span></span><span class=line><span class=cl>└────────┬────────┘
</span></span><span class=line><span class=cl>         │ stdin/stdout (JSON-RPC 2.0)
</span></span><span class=line><span class=cl>┌────────▼────────────┐
</span></span><span class=line><span class=cl>│   MCP Server        │  ← Runs locally, started automatically
</span></span><span class=line><span class=cl>│   (Python/FastMCP)  │  ← Uses ~/.aws/credentials
</span></span><span class=line><span class=cl>└────────┬────────────┘
</span></span><span class=line><span class=cl>         │ HTTPS + IAM Auth
</span></span><span class=line><span class=cl>┌────────▼────────────┐
</span></span><span class=line><span class=cl>│  Redshift Data API  │  ← AWS managed proxy
</span></span><span class=line><span class=cl>└────────┬────────────┘
</span></span><span class=line><span class=cl>         │
</span></span><span class=line><span class=cl>┌────────▼────────────┐
</span></span><span class=line><span class=cl>│  Redshift Cluster   │  ← Your data warehouse
</span></span><span class=line><span class=cl>└─────────────────────┘
</span></span></code></pre></div><h3 id=configuration-claude-desktop--redshift-mcp-server>Configuration (Claude Desktop + Redshift MCP Server)<a hidden class=anchor aria-hidden=true href=#configuration-claude-desktop--redshift-mcp-server>#</a></h3><p>I followed the AWS documentation for the initial setup, but I kept the configuration simple and focused on a read-only workflow.</p><h3 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h3><p>Before configuring the MCP server, I needed a few basics in place:</p><ul><li><p>Install uv from Astral or the GitHub README</p></li><li><p>Install Python 3.10 or newer using uv python install 3.10 (or a more recent version)</p></li><li><p><code>uv</code> installed (Astral)</p></li><li><p>Python 3.10+ available</p></li><li><p>AWS credentials configured</p></li><li><p>AWS region configured (<code>us-west-2</code> in my case)</p></li><li><p>A dedicated AWS user/profile with the required Redshift and Redshift Data API permissions</p></li></ul><p>I also recommend using a dedicated AWS profile for MCP instead of reusing your default profile.</p><h4 id=iam-user-and-policy-read-only>IAM user and policy (read-only)<a hidden class=anchor aria-hidden=true href=#iam-user-and-policy-read-only>#</a></h4><p>For this setup, I created a dedicated user and profile called <code>mcp-redshift-readonly</code>. That profile is the one used by the MCP server.</p><p>I attached a custom read-only policy with permissions for:</p><ul><li>Redshift cluster/workgroup discovery</li><li>Redshift Data API read/query execution (<code>ExecuteStatement</code>, <code>DescribeStatement</code>, <code>GetStatementResult</code>)</li><li>Temporary credentials for Redshift access</li><li>Explicit deny rules for dangerous operations (delete/modify/reboot, batch execution, etc.)</li><li>Optional CloudWatch logging for auditing</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Version&#34;</span><span class=p>:</span> <span class=s2>&#34;2012-10-17&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;Statement&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Sid&#34;</span><span class=p>:</span> <span class=s2>&#34;RedshiftDiscovery&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Effect&#34;</span><span class=p>:</span> <span class=s2>&#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Action&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift:DescribeClusters&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-serverless:ListWorkgroups&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-serverless:GetWorkgroup&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Resource&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Condition&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;StringEquals&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;aws:RequestedRegion&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;your-aws-region&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Sid&#34;</span><span class=p>:</span> <span class=s2>&#34;RedshiftExecuteStatement&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Effect&#34;</span><span class=p>:</span> <span class=s2>&#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Action&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-data:ExecuteStatement&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Resource&#34;</span><span class=p>:</span> <span class=s2>&#34;arn:aws:redshift:&lt;your-aws-region&gt;:&lt;account-id&gt;:cluster:&lt;cluster_name&gt;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Sid&#34;</span><span class=p>:</span> <span class=s2>&#34;RedshiftStatementResults&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Effect&#34;</span><span class=p>:</span> <span class=s2>&#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Action&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-data:DescribeStatement&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-data:GetStatementResult&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Resource&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Sid&#34;</span><span class=p>:</span> <span class=s2>&#34;RedshiftTemporaryCredentials&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Effect&#34;</span><span class=p>:</span> <span class=s2>&#34;Allow&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Action&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift:GetClusterCredentials&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift:GetClusterCredentialsWithIAM&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-serverless:GetCredentials&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Resource&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;arn:aws:redshift:&lt;your-aws-region&gt;:&lt;account-id&gt;:dbname:&lt;cluster-name&gt;/&lt;database-name&gt;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Sid&#34;</span><span class=p>:</span> <span class=s2>&#34;DenyDangerousOperations&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Effect&#34;</span><span class=p>:</span> <span class=s2>&#34;Deny&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Action&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-data:BatchExecuteStatement&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift:ModifyCluster&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift:DeleteCluster&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift:RebootCluster&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-serverless:DeleteWorkgroup&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;redshift-serverless:UpdateWorkgroup&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>],</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;Resource&#34;</span><span class=p>:</span> <span class=s2>&#34;*&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=claude-desktop-configuration>Claude Desktop configuration<a hidden class=anchor aria-hidden=true href=#claude-desktop-configuration>#</a></h4><p>The setup itself is straightforward. First, configure the MCP server in your MCP client (<code>Claude Desktop</code> in my case) by adding it to <code>claude_desktop_config.json</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;mcpServers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;redshift-dwh-production&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;/Users/&lt;your-user&gt;/.local/bin/uvx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;awslabs.redshift-mcp-server@latest&#34;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;env&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;AWS_PROFILE&#34;</span><span class=p>:</span> <span class=s2>&#34;mcp-redshift-readonly&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;AWS_DEFAULT_REGION&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;your-aws-region&gt;&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;FASTMCP_LOG_LEVEL&#34;</span><span class=p>:</span> <span class=s2>&#34;INFO&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;LOG_FILE&#34;</span><span class=p>:</span> <span class=s2>&#34;/Users/&lt;your-user&gt;/path/to/logs/redshift-mcp.log&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>A few details mattered for me:</p><blockquote><ul><li><code>AWS_PROFILE</code> points to a dedicated read-only profile</li><li><code>AWS_DEFAULT_REGION</code> avoids region-related confusion</li><li><code>FASTMCP_LOG_LEVEL</code> and LOG_FILE helped during the first runs and troubleshooting</li></ul></blockquote><p>Once this was in place, Claude Desktop could start the MCP server automatically when needed.</p><p>Then added the connector on the Claude desktop
<img alt="MCP Client Connector image" loading=lazy src=/posts/ai/images/claude_connectors.png#center></p><p>As you can see the MCP Server exposes six tools:
<code>list_clusters</code>, <code>list_databases</code>,<code>list_schemas</code>, <code>list_tables</code>, <code>list_columns</code> and <code>execute_query</code>. As recommendation before running any query, you can just ask what exists. The tool <code>execute_query</code> runs in read-only transaction by default, so even if you ask something that would modify data it won&rsquo;t.</p><h3 id=database-permissions>Database Permissions<a hidden class=anchor aria-hidden=true href=#database-permissions>#</a></h3><p>In addition to AWS IAM permissions, you need appropriate database-level permissions:</p><blockquote><ul><li><code>Read Access</code>: SELECT permissions on tables/views you want to query</li><li><code>Schema Access</code>: USAGE permissions on schemas you want to explore</li><li><code>Database Access</code>: Connection permissions to databases you want to access</li></ul></blockquote><h3 id=what-changed-in-my-workflow>What Changed in My Workflow<a hidden class=anchor aria-hidden=true href=#what-changed-in-my-workflow>#</a></h3><p>Going back to the examples I mentioned at the start, checking slow queries, user permissions,cluster health.</p><p>Checking slow queries:</p><figure class=align-center><img loading=lazy src=/posts/ai/images/worts_queries.png#center alt="Claude conversation showing top 10 slowest queries execution"><figcaption><p>Example: Asking Claude to show the top 10 longest running queries in the last 24 hours</p></figcaption></figure><p>User permissions check:</p><figure class=align-center><img loading=lazy src=/posts/ai/images/user_permissions.png#center alt="Claude conversation What permissions does the user have on the analytics schema?"><figcaption><p>Example: Asking Claude what permissions does the user have on the analytics schema?</p></figcaption></figure><p>Cluster details:</p><figure class=align-center><img loading=lazy src=/posts/ai/images/cluster_details.png#center alt="Claude conversation How many nodes does the cluster have and what type are they?"><figcaption><p>Example: Asking Claude How many nodes does the cluster have and what type are they?</p></figcaption></figure><p>I don&rsquo;t have to remember the system table names. I don&rsquo;t have to switch tools. I don&rsquo;t have to reconstruct a query I last wrote three weeks ago. I just ask.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://joaquin-casanova.github.io/tags/ai/>AI</a></li><li><a href=https://joaquin-casanova.github.io/tags/mcp/>MCP</a></li></ul><nav class=paginav><a class=next href=https://joaquin-casanova.github.io/posts/toolkit/curate_tech_links/><span class=title>Next »</span><br><span>Curate Tech Links</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on x" href="https://x.com/intent/tweet/?text=MCP%20for%20Data%20Engineers&amp;url=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f&amp;hashtags=AI%2cMCP"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f&amp;title=MCP%20for%20Data%20Engineers&amp;summary=MCP%20for%20Data%20Engineers&amp;source=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f&title=MCP%20for%20Data%20Engineers"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on whatsapp" href="https://api.whatsapp.com/send?text=MCP%20for%20Data%20Engineers%20-%20https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on telegram" href="https://telegram.me/share/url?text=MCP%20for%20Data%20Engineers&amp;url=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share MCP for Data Engineers on ycombinator" href="https://news.ycombinator.com/submitlink?t=MCP%20for%20Data%20Engineers&u=https%3a%2f%2fjoaquin-casanova.github.io%2fposts%2fai%2fmodel_context_protocol%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://https-joaquin-casanova-github-io.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2026 <a href=https://joaquin-casanova.github.io/>Joaquin Casanova - Physicist & Data Engineer</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>